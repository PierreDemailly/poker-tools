<h1>Range manager</h1>
<h2>Manage your hand ranges</h2>

<div class="tabs">
  <button mat-flat-button
          *ngFor="let range of ranges; let i = index;"
          [color]="selectedRangeIndex === i ? 'primary' : undefined"
          class="tab"
          (click)="selectTab(i)">
    {{ range.name }}
  </button>
  <button mat-icon-button (click)="addTab()"><mat-icon>add</mat-icon></button>
</div>

<div class="grid">
  <mat-nav-list class="folders">
    <a mat-list-item *ngFor="let folder of ranges[selectedRangeIndex].folders; let i = index;" (click)="selectFolder(i)" [ngClass]="{ 'active': selectedFolderIndex === i }">{{ folder.name }}</a>
    <mat-divider></mat-divider>
    <a mat-list-item (click)="addFolder()">Add a folder</a>
  </mat-nav-list>
  <app-hand-grid (rangeChange)="onRangeChange($event)" [range]="ranges[selectedRangeIndex].folders[selectedFolderIndex].value"></app-hand-grid>
  <mat-card class="card">
    <mat-card-title>
      Range settings
    </mat-card-title>
    <mat-card-content>
      <form [formGroup]="form">
        <mat-form-field class="full-width">
          <label>
            <mat-label>Range's name</mat-label>
            <input matInput formControlName="name">
          </label>
        </mat-form-field>
        <mat-form-field class="full-width">
          <label>
            <mat-label>Range's folder</mat-label>
            <input matInput formControlName="folder">
          </label>
        </mat-form-field>
      </form>
    </mat-card-content>
    <div class="bottom">
      <button mat-button color="warn" class="full-width mb" *ngIf="ranges.length > 1" (click)="deleteRange()">DELETE RANGE</button>
      <button mat-button color="warn" class="full-width" *ngIf="ranges[selectedRangeIndex].folders.length > 1" (click)="deleteFolder()">DELETE FOLDER</button>
    </div>
  </mat-card>
</div>

